# 02 리팩터링 원칙

## 2.1 리팩터링 정의

| 리팩터링 : [명사] 소프트웨어의 겉보기 동작은 그대로 유지한 채, 코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 기법

| 리팩터링(하다) : [동사] 소프트웨어의 겉보기 동작은 그대로 유지한 채, 여러가지 리팩터링 기법을 적용해서 소프트웨어를 재구성하다.

- 잘게 나누기 => 디버깅하는 데 시간을 뺏기지 않음
- 리팩토링 전과 후의 코드가 **똑같이 동작해야 한다**는 뜻이다.

## 2.2 두 개의 모자

'기능 추가'냐 '리팩터링'이냐를 명확히 구분해 작업한다.

## 2.3 리팩터링하는 이유

1. 리팩터링하면 소프트웨어 설계가 좋아진다.
2. 리팩터링하면 소프트웨어를 이해하기 쉬워진다.
3. 리팩터링하면 버그를 쉽게 찾을 수 있다.
4. 리팩터링하면 프로그래밍 속도를 높일 수 있다.

## 2.4 언제 리팩터링해야 할까?

| 저자의 주장

### 3의 법칙

1. 처음에는 그냥 한다.
2. 비슷한 일을 두 번째로 하게 되면, 일단 계속 진행한다.
3. 비슷한 일을 세 번째 하게 되면 리팩터링한다.

4. 준비를 위한 리팩터링: 기능을 쉽게 추가하게 만들기

- 리팩터링하기 가장 좋은 시점은 코드베이스에 기능을 새로 추가하기 직전.

2. 이해를 위한 리팩터링: 코드를 이해하기 쉽게 만들기

3. 쓰레기 줍기 리팩터링

- 간단히 수정할 수 있는 것은 즉시 고치고
- 시간이 좀 걸리는 일은 짧게 메모(todo 남기기)

4. 계획된 리팩터링과 수시로 하는 리팩터링

5. 오래 걸리는 리팩터링

- 주어진 문제를 몇 주에 걸쳐 조금씩 해결해가는 편

6. 코드 리뷰에 리팩터링 활용하기

7. 관리자에게는 뭐라고 말해야 할까?

8. 리팩터링하지 말아야 할 때

## 2.5 리팩터링 시 고려할 문제

- 새 기능 개발 속도 저하
  | 리팩터링의 궁극적인 목적은 개발 속도를 높여서, 더 적은 노력으로 더 많은 가치를 창출하는 것이다.
  | 리팩터링을 '클린코드'나 '바람직한 엔지니어링 습관'처럼 도덕적인 이유로 정당화하는 것이다.

- 코드 소유권

- 브랜치

  - CI와 리팩터링을 합쳐져 익스트림 프로그래밍(XP)

- 테스팅

  - 리팩토링을 하다 실수하면 어떻게 될까? => 오류!
  - 오류를 재빨리 잡기 위해서? => 리팩토링

- 레거시 코드

- 데이터베이스
  - 데이터베이스 리팩터링

## 2.6 리팩터링, 아키텍처, 애그니

## 2.7 리팩터링과 소프트웨어 개발 프로세스

## 2.8 리팩터링과 성능

- 직관적인 설계 vs 성능
  1. 시간 예산 분배 방식 (하드 리얼타임 시스템)
  2. 관심 기울이기
  3. 의도적으로 성능 최적화에 돌입하기 전까지는 성능에 신경 쓰지 않고 코드를 다루기 쉽게 만드는데 집중한다.

## 2.9 리팩터링의 유래

## 2.10 리팩터링 자동화
